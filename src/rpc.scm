(declare (unit rpc))
(use medea http-client)
(client-software (list (list"Wandering Hobos" 0.1 #f)))
(define (make-train-call auth-code num operators)
  (make-call auth-code "train" (list (cons 'size  num)
			       (list (cons 'operators operators)
				     )))
)
(define (make-call auth-code type params)
  (with-input-from-request (make-req-url type auth-code) #f read-json)
)
(define (make-req-url method auth-code)
  (string-append "http://icfpc2013.cloudapp.net/" method "?auth=" auth-code)
)
